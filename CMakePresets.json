{
	"version": 3,
	"cmakeMinimumRequired": {
		"major": 3,
		"minor": 25,
		"patch": 0
	},
	"configurePresets": [
		{
			"name": "base",
			"hidden": true,
			"generator": "Ninja",
			"cacheVariables": {
				"CMAKE_TOOLCHAIN_FILE": "$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake"
			}
		},
		{
			"name": "debug",
			"inherits": "base",
			"displayName": "Debug Build",
			"description": "Configure for Debug (platform auto)",
			"binaryDir": "${sourceDir}/build/debug",
			"cacheVariables": {
				"CMAKE_BUILD_TYPE": "Debug"
			}
		},
		{
			"name": "release",
			"inherits": "base",
			"displayName": "Release Build",
			"description": "Configure for Release (platform auto)",
			"binaryDir": "${sourceDir}/build/release",
			"cacheVariables": {
				"CMAKE_BUILD_TYPE": "Release"
			}
		},

		{
			"name": "debug-macos",
			"displayName": "Debug Build (arm64 macOS)",
			"inherits": "debug",
			"condition": {
				"type": "equals",
				"lhs": "${hostSystemName}",
				"rhs": "Darwin"
			},
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "arm64-osx"
			}
		},
		{
			"name": "release-macos",
			"displayName": "Release Build (arm64 macOS)",
			"inherits": "release",
			"condition": {
				"type": "equals",
				"lhs": "${hostSystemName}",
				"rhs": "Darwin"
			},
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "arm64-osx"
			}
		},
		{
			"name": "debug-x64-macos",
			"displayName": "Debug Build (x64 macOS)",
			"inherits": "debug",
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "x64-osx"
			}
		},
		{
			"name": "release-x64-macos",
			"displayName": "Release Build (x64 macOS)",
			"inherits": "release",
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "x64-osx"
			}
		},

		{
			"name": "debug-windows",
			"inherits": "debug",
			"condition": {
				"type": "equals",
				"lhs": "${hostSystemName}",
				"rhs": "Windows"
			},
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "x64-windows"
			}
		},
		{
			"name": "release-windows",
			"inherits": "release",
			"condition": {
				"type": "equals",
				"lhs": "${hostSystemName}",
				"rhs": "Windows"
			},
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "x64-windows"
			}
		},
		{
			"name": "debug-linux",
			"inherits": "debug",
			"condition": {
				"type": "equals",
				"lhs": "${hostSystemName}",
				"rhs": "Linux"
			},
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "x64-linux"
			}
		},
		{
			"name": "release-linux",
			"inherits": "release",
			"condition": {
				"type": "equals",
				"lhs": "${hostSystemName}",
				"rhs": "Linux"
			},
			"cacheVariables": {
				"VCPKG_TARGET_TRIPLET": "x64-linux"
			}
		},
		{
			"name": "web-debug",
			"inherits": "base",
			"displayName": "Web Debug Build",
			"binaryDir": "${sourceDir}/build/web_debug",
			"cacheVariables": {
				"CMAKE_BUILD_TYPE": "Debug",
				"VCPKG_TARGET_TRIPLET": "wasm32-emscripten",
				"VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "$env{EMSDK}/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake",
				"EMSCRIPTEN": "ON"
			},
			"environment": {
				"EMSCRIPTEN": "ON"
			}
		},
		{
			"name": "web-release",
			"inherits": "base",
			"displayName": "Web Release Build",
			"binaryDir": "${sourceDir}/build/web_release",
			"cacheVariables": {
				"CMAKE_BUILD_TYPE": "Release",
				"VCPKG_TARGET_TRIPLET": "wasm32-emscripten",
				"VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "$env{EMSDK}/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake",
				"EMSCRIPTEN": "ON"
			},
			"environment": {
				"EMSCRIPTEN": "ON"
			}
		}
	],
	"buildPresets": [
		{ "name": "debug-macos", "configurePreset": "debug-macos" },
		{ "name": "release-macos", "configurePreset": "release-macos" },
		{ "name": "debug-x64-macos", "configurePreset": "debug-x64-macos" },
		{ "name": "release-x64-macos", "configurePreset": "release-x64-macos" },
		{ "name": "debug-windows", "configurePreset": "debug-windows" },
		{ "name": "release-windows", "configurePreset": "release-windows" },
		{ "name": "debug-linux", "configurePreset": "debug-linux" },
		{ "name": "release-linux", "configurePreset": "release-linux" },
		{ "name": "web-debug", "configurePreset": "web-debug" },
		{ "name": "web-release", "configurePreset": "web-release" }
	]
}
